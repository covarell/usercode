process Cosmics = {

  #=========================================================================================
  # MessageLogger
    service = MessageLogger {
      untracked vstring suppressInfo = {"siStripClusters","siStripClusters325"}

      untracked vstring destinations =
      {
	"/data/covarell/inputfiles/fullerror2.log"
      }
      untracked vstring categories =
      {
	"FwkJob",
	"FwkReport",
	"Root_NoDictionary"
      }
      untracked PSet cout =
      {
	untracked string threshold = "DEBUG"
	untracked PSet default =
	{
	  untracked int32 limit       = 1000000000
	  untracked int32 reportEvery = 1
	}
	untracked PSet FwkJob =
	{
	  untracked int32 limit       = 1000000000
	  untracked int32 reportEvery = 1000
	}
	untracked PSet FwkReport =
	{
	  untracked int32 limit       = 1000000000
	  untracked int32 reportEvery = 1000
	}
      }
      untracked PSet cerr = { untracked string threshold = "ERROR" }
    }  
  # End MessageLogger
  #=========================================================================================

  #=========================================================================================
  # Sources
    source = PoolSource {
      untracked vstring fileNames = {        
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.0.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.1.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.10.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.11.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.12.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.13.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.14.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.15.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.16.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.17.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.18.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.19.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.2.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.20.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.21.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.22.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.23.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.24.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.25.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.26.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.27.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.28.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.29.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.3.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.30.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.31.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.32.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.33.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.34.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.35.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.36.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.37.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.38.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.39.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.4.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.40.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.41.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.42.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.43.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.44.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.45.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.46.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.47.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.48.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.49.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.5.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.50.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.51.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.52.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.53.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.54.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.55.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.56.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.57.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.58.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.59.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.6.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.60.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.61.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.62.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.63.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.64.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.65.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.66.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.67.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.68.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.69.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.7.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.70.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.71.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.72.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.73.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.74.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.75.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.76.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.77.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.78.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.79.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.8.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.80.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.81.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.82.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.83.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.84.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.85.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.86.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.87.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.88.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.89.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.9.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.90.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.91.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.92.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006217.A.testStorageManager_0.93.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006219.A.testStorageManager_0.0.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006219.A.testStorageManager_0.1.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006219.A.testStorageManager_0.10.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006219.A.testStorageManager_0.11.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006219.A.testStorageManager_0.12.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006219.A.testStorageManager_0.13.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006219.A.testStorageManager_0.14.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006219.A.testStorageManager_0.15.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006219.A.testStorageManager_0.16.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006219.A.testStorageManager_0.17.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006219.A.testStorageManager_0.18.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006219.A.testStorageManager_0.19.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006219.A.testStorageManager_0.2.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006219.A.testStorageManager_0.20.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006219.A.testStorageManager_0.21.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006219.A.testStorageManager_0.22.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006219.A.testStorageManager_0.23.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006219.A.testStorageManager_0.24.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006219.A.testStorageManager_0.25.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006219.A.testStorageManager_0.3.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006219.A.testStorageManager_0.4.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006219.A.testStorageManager_0.5.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006219.A.testStorageManager_0.6.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006219.A.testStorageManager_0.7.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006219.A.testStorageManager_0.8.root',
        'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_10/tif.00006219.A.testStorageManager_0.9.root'
      }
      
      untracked int32 maxEvents = 10000	// number of events to process (-1 = "all")
    }
  # End Sources
  #=========================================================================================
  
  #=========================================================================================
  # Modules Configuration
    # > Magnetic Field <
      include "MagneticField/Engine/data/uniformMagneticField.cfi"
      replace UniformMagneticFieldESProducer.ZFieldInTesla = 0
      es_prefer = UniformMagneticFieldESProducer {}

    # > Geometry <
      include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
      include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"

      include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"

    # > Cabling and Pedestals <
      # read cabling and pedestals from DB
    es_source = PoolDBESSource { 

    VPSet toGet = {{ string record = "SiStripFedCablingRcd" string tag = "SiStripCabling_TIBTOB_DQM_v2"},
		     { string record = "SiStripNoisesRcd" string tag = "SiStripPedNoise_TIBTOB_DQM_v2_n"},
		     { string record = "SiStripPedestalsRcd" string tag= "SiStripPedNoise_TIBTOB_DQM_v2_p"}}
        
        bool loadAll = true
        string connect = "oracle://devdb10/CMS_COND_STRIP"
        untracked string catalog = "relationalcatalog_oracle://devdb10/CMS_COND_GENERAL"
        string timetype = "runnumber" 
	PSet DBParameters = {
	    untracked string authenticationPath ="/afs/cern.ch/cms/DB/conddb"
            untracked int32 messageLevel = 1
	    untracked bool loadBlobStreamer = true
	}
    }

      # produce SiStripFecCabling and SiStripDetCabling out of SiStripFedCabling
      es_module sistripconn = SiStripConnectivity {}

    # > Digitization <
      # SiStripRaw2digi
      include "EventFilter/SiStripRawToDigi/data/SiStripDigis.cfi"

      # ZeroSuppressor
      include "RecoLocalTracker/SiStripZeroSuppression/data/SiStripZeroSuppression.cfi"

    # > Clusterization <
      # SiStripClusterizer
      include "RecoLocalTracker/SiStripClusterizer/data/SiStripClusterizer_RealData.cfi"
      replace siStripClusters.ChannelThreshold    = 3.0
      replace siStripClusters.SeedThreshold       = 4.0
      replace siStripClusters.ClusterThreshold    = 7.0

    # > DQM <
      # Trigger
      module trigger = MTCCHLTrigger {
	bool    SelOnDigiCharge = false
        # threshold must be larger for collisions (23000 or so for 156 modules selected)
	int32   ChargeThreshold = 180 
	string  ClusterProducer = "siStripClusters"
      }

      # prescaler module
      module Prescaler = Prescaler{ 
	int32 prescaleFactor = 1
      }


  #################TRACK RECONSTRUCTION###################

  include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"
  include "RecoTracker/GeometryESProducer/data/TrackerRecoGeometryESProducer.cfi"

  include "RecoLocalTracker/SiStripRecHitConverter/data/SiStripRecHitMatcher.cfi"
  include "RecoLocalTracker/SiStripRecHitConverter/data/SiStripRecHitConverter.cfi"
  #stripCPE
  include "RecoLocalTracker/SiStripRecHitConverter/data/StripCPEfromTrackAngle.cfi"
  #pixelCPEs
  include "RecoLocalTracker/SiPixelRecHits/data/PixelCPEParmError.cfi"
  #TransientTrackingBuilder
  include "RecoTracker/TransientTrackingRecHit/data/TransientTrackingRecHitBuilder.cfi"
  #MeasurementTracker
  include "RecoTracker/MeasurementDet/data/MeasurementTrackerESProducer.cfi"
  replace MeasurementTracker.pixelClusterProducer = ""
  include "RecoTracker/CkfPattern/data/CkfTrajectoryBuilderESProducer.cfi"


  ############### Cosmic Track Finder ###########################
  module cosmicseedfinder = CosmicSeedGenerator {
    InputTag matchedRecHits = siStripMatchedRecHits:matchedRecHit
    InputTag rphirecHits    = siStripMatchedRecHits:rphiRecHit
    InputTag stereorecHits  = siStripMatchedRecHits:stereoRecHit
    double ptMin=0.9
    double originRadius=150
    double originHalfLength=90
    double originZPosition=0
    string TTRHBuilder        =  "WithTrackAngle"	
    untracked string GeometricStructure  = "STANDARD" //other choice: TIBD+
  }

  module cosmictrackfinder = CosmicTrackFinder {
    bool TrajInEvents=true
    InputTag cosmicSeeds = cosmicseedfinder:
    InputTag matchedRecHits = siStripMatchedRecHits:matchedRecHit
    InputTag rphirecHits    = siStripMatchedRecHits:rphiRecHit
    InputTag stereorecHits  = siStripMatchedRecHits:stereoRecHit
    string HitProducer        = "siStripRecHits"
    int32 MinHits=4
    double Chi2Cut=500.
    string TTRHBuilder    =   "WithTrackAngle"
    untracked string GeometricStructure  = "MTCC"
    untracked bool debug = true
  }


  ################# Combinatorial Track Finder ####################

  module combinatorialseedfinder= CombinatorialSeedGeneratorForCosmics{
    InputTag matchedRecHits = siStripMatchedRecHits:matchedRecHit
    InputTag rphirecHits    = siStripMatchedRecHits:rphiRecHit
    InputTag stereorecHits  = siStripMatchedRecHits:stereoRecHit
    double SeedMomentum = 1    #initial momentum in GeV !!!set to a lower value for slice test data	
    untracked string GeometricStructure  = "CkfTIF3"  #/other options: CkfTIBD+ 
    string Matcher = "StandardMatcher"
    bool UseScintillatorsConstraint = false
    PSet UpperScintillatorParameters = {
      double WidthInX = 500      #half dimension in global X
      double LenghtInZ = 500	 #half dimension in global Z	
      double GlobalX = 0         #scintillator's center position in global X
      double GlobalY = 300       #scintillator's center position in global Y
      double GlobalZ = 50        #scintillator's center position in global Z  
    }
    PSet LowerScintillatorParameters = {
      double WidthInX = 500      #half dimension in global X
      double LenghtInZ = 500     #half dimension in global Z
      double GlobalX = 0         #scintillator's center position in global X
      double GlobalY = -100      #scintillator's center position in global Y
      double GlobalZ = 50        #scintillator's center position in global Z
    }
  }

  include "RecoTracker/CkfPattern/data/CkfTrackCandidates.cff"
 
  replace ckfTrackCandidates.TrajectoryBuilder    = "GroupedCkfTrajectoryBuilder"
  replace ckfTrackCandidates.SeedProducer         = "combinatorialseedfinder"
  replace GroupedCkfTrajectoryBuilder.ptCut               = 0.01
  replace GroupedCkfTrajectoryBuilder.maxLostHit          = 3
  replace GroupedCkfTrajectoryBuilder.maxConsecLostHit    = 1
  replace GroupedCkfTrajectoryBuilder.minimumNumberOfHits = 4

  #final fit
  module ctfWithMaterialTracks = TrackProducer {
    string Fitter = "KFFittingSmoother"
    string Propagator = "PropagatorWithMaterial"
    string src = "ckfTrackCandidates"
    string producer = ""
    string TTRHBuilder       =   "WithTrackAngle"
    bool TrajectoryInEvent = true
  }

  #track info
  include "AnalysisAlgos/TrackInfoProducer/data/TrackInfoProducer.cfi"	


## ==================== sequences

  module out = PoolOutputModule {
    untracked string fileName = "/data/covarell/inputfiles/test6217-9.root"
    
       untracked vstring outputCommands = {
	    "keep *",
            "drop FEDRawDataCollection_*__*",
            "drop SiStripDigiCollection_*_*_*",
            # "drop SiStripClusteredmDetSetVector_*_*_*",
	    "drop SiStripDigiedmDetSetVector_*_*_*",
	    "drop SiStripRawDigiedmDetSetVector_*_*_*"
       }
  }

  # Schedule
    sequence seqDigitization   = { 
      SiStripDigis
    }
    sequence seqZeroSuppression   = { 
      siStripZeroSuppression
    }
    sequence seqClusterization = { 
      siStripClusters
    }

    sequence local_reco = {siStripMatchedRecHits}

    sequence seqCosmicTrackFinder = { 
      cosmicseedfinder,
      cosmictrackfinder 
    }

    sequence seqCTFTrackFinder = {
      combinatorialseedfinder,
      ckfTrackCandidates,
      ctfWithMaterialTracks }
    
    
    path p = {seqDigitization,seqZeroSuppression,seqClusterization,local_reco,seqCosmicTrackFinder,seqCTFTrackFinder}


    endpath e = { out}
  # End Schedule
  #=========================================================================================
}
